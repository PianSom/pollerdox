<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/pollerdox/blog/rss.xml" title="Unifi Poller Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pollerdox/blog/atom.xml" title="Unifi Poller Blog Atom Feed"><title data-react-helmet="true">Docker - using command line | Unifi Poller</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Docker - using command line | Unifi Poller"><meta data-react-helmet="true" name="description" content="This page assumes that you have decided to start Unifi Poller with Docker using the command line"><meta data-react-helmet="true" property="og:description" content="This page assumes that you have decided to start Unifi Poller with Docker using the command line"><meta data-react-helmet="true" property="og:url" content="https://unifi-poller.github.io/pollerdox/docs/ins3"><link data-react-helmet="true" rel="shortcut icon" href="/pollerdox/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://unifi-poller.github.io/pollerdox/docs/ins3"><link rel="stylesheet" href="/pollerdox/styles.21f0090d.css">
<link rel="preload" href="/pollerdox/styles.8aaa4c11.js" as="script">
<link rel="preload" href="/pollerdox/runtime~main.0deca372.js" as="script">
<link rel="preload" href="/pollerdox/main.068b9cee.js" as="script">
<link rel="preload" href="/pollerdox/1.3f7b50f0.js" as="script">
<link rel="preload" href="/pollerdox/2.19917554.js" as="script">
<link rel="preload" href="/pollerdox/30.4bc06e3f.js" as="script">
<link rel="preload" href="/pollerdox/31.a615a306.js" as="script">
<link rel="preload" href="/pollerdox/935f2afb.a5646b47.js" as="script">
<link rel="preload" href="/pollerdox/17896441.00fe3a72.js" as="script">
<link rel="preload" href="/pollerdox/e3cea2b1.f82acc55.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/pollerdox/"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Unifi Poller</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pollerdox/docs/up1">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/pollerdox/"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Unifi Poller</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/pollerdox/docs/up1">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UnifiPoller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up1">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up2">How it works</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up3">FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up4">Easy starting point</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins1">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins2">Docker - using docker-compose</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/pollerdox/docs/ins3">Docker - using command line</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins4">Docker - FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins5">Bare metal - FreeBSD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins6">Bare metal - Linux/MacOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins7">Bare metal - Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins8">NAS - Synology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins9">Config file and Environment variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins10">Final steps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/pollerdox/docs/ins11">Loki</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/tro1">Common solutions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/tro2">Getting help</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Thanks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/thx1">Contributors</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Docker - using command line</h1></header><div class="markdown"><p>This page assumes that you have decided to start Unifi Poller with Docker using the command line</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="before-this"></a>Before this<a class="hash-link" href="#before-this" title="Direct link to heading">#</a></h2><p>Make sure you have set up a user on your controller for Unifi Poller to use</p><p>It is assumed that you have working (and supported) versions of Grafana (though see the Grafana plugins section below) and at least one of InfluxDB/Prometheus</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pull-the-images"></a>Pull the images<a class="hash-link" href="#pull-the-images" title="Direct link to heading">#</a></h2><p>First pull the image from Docker Hub using</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker pull golift/unifi-poller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Details of tags available are described in <a href="/pollerdox/docs/ins4">Docker - FAQs</a> below.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuring-and-starting-the-container"></a>Configuring and starting the container<a class="hash-link" href="#configuring-and-starting-the-container" title="Direct link to heading">#</a></h2><p>See <a href="/pollerdox/docs/ins9">Config file and Environment variables</a></p><p>A decision should be made which method of configuration to use.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="alternative-1---using-environment-variables"></a>Alternative 1 - Using environment variables<a class="hash-link" href="#alternative-1---using-environment-variables" title="Direct link to heading">#</a></h3><p>If you are using the command line and have decided to use environment variables then start the container using the following command (changed as necessary to pass the other environment variables you wish to)</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -e UP_UNIFI_DEFAULT_PASS=&quot;your-secret-pasword&quot;  golift/unifi-poller:latest</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="alternative-2---using-a-configuration-file"></a>Alternative 2 - Using a configuration file<a class="hash-link" href="#alternative-2---using-a-configuration-file" title="Direct link to heading">#</a></h3><p>If you choose to use a configuration file</p><ul><li>Copy this <a href="https://github.com/unifi-poller/unifi-poller/blob/master/examples/up.conf.example" target="_blank" rel="noopener noreferrer">example config file</a></li><li>Edit it as necessary (in particular ensure that the <code>[unifi]</code>/<code>user</code> and <code>pass</code> variables are set)</li><li>Save it as <code>unifi-poller.conf</code> in the local location you use for Docker storage</li></ul><p>Start the container using</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -v /your-local-location/unifi-poller.conf:/config/unifi-poller.conf golift/unifi-poller</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Make sure that Unifi Poller is actively writing to the database before going any further</p></div></div><p>In both alternatives, if all has worked then you should start seeing lines like</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">unifi-poller    | 2020/06/18 12:08:50 [INFO] UniFi Metrics Recorded. Sites: 1, Clients: 67, UAP: 6, USG/UDM: 1, USW: 5, IDS Events: 0, Points: 1837, Fields: 11307, Errs: 0, Elapsed: 599ms</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you don&#x27;t see this then go back and check what you have done so far</p><p>If you do then you can stop the container, and then start it again daemonised by adding the <code>-d</code> flag</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="grafana-plugins"></a>Grafana Plugins<a class="hash-link" href="#grafana-plugins" title="Direct link to heading">#</a></h2><p>This application uses a few Grafana plugins. Install them:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Clock, Discrete (InfluxDB only), PieChart, Singlestat (standard), Table (standard)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">grafana-cli plugins install grafana-clock-panel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">grafana-cli plugins install natel-discrete-panel</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">grafana-cli plugins install grafana-piechart-panel</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>If you&#x27;re running Grafana in Docker, pass this environment variable/value to Grafana to install the plugins:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">GF_INSTALL_PLUGINS=grafana-clock-panel,natel-discrete-panel,grafana-piechart-panel</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="next-steps"></a>Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">#</a></h2><p>Go to the section <a href="/pollerdox/docs/ins10">Final steps</a></p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pollerdox/docs/ins2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Docker - using docker-compose</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pollerdox/docs/ins4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docker - FAQs Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-this" class="table-of-contents__link">Before this</a></li><li><a href="#pull-the-images" class="table-of-contents__link">Pull the images</a></li><li><a href="#configuring-and-starting-the-container" class="table-of-contents__link">Configuring and starting the container</a><ul><li><a href="#alternative-1---using-environment-variables" class="table-of-contents__link">Alternative 1 - Using environment variables</a></li><li><a href="#alternative-2---using-a-configuration-file" class="table-of-contents__link">Alternative 2 - Using a configuration file</a></li></ul></li><li><a href="#grafana-plugins" class="table-of-contents__link">Grafana Plugins</a></li><li><a href="#next-steps" class="table-of-contents__link">Next steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/XNQSYwYH" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Project home</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/unifi-poller/unifi-poller" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021</div></div></div></footer></div>
<script src="/pollerdox/styles.8aaa4c11.js"></script>
<script src="/pollerdox/runtime~main.0deca372.js"></script>
<script src="/pollerdox/main.068b9cee.js"></script>
<script src="/pollerdox/1.3f7b50f0.js"></script>
<script src="/pollerdox/2.19917554.js"></script>
<script src="/pollerdox/30.4bc06e3f.js"></script>
<script src="/pollerdox/31.a615a306.js"></script>
<script src="/pollerdox/935f2afb.a5646b47.js"></script>
<script src="/pollerdox/17896441.00fe3a72.js"></script>
<script src="/pollerdox/e3cea2b1.f82acc55.js"></script>
</body>
</html>