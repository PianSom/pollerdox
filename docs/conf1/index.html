<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/pollerdox/blog/rss.xml" title="Unifi Poller Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pollerdox/blog/atom.xml" title="Unifi Poller Blog Atom Feed"><title data-react-helmet="true">Final steps | Unifi Poller</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Final steps | Unifi Poller"><meta data-react-helmet="true" name="description" content="Configuring InfluxDB Grafana Datasource"><meta data-react-helmet="true" property="og:description" content="Configuring InfluxDB Grafana Datasource"><meta data-react-helmet="true" property="og:url" content="https://piansom.github.io/pollerdox/docs/conf1"><link data-react-helmet="true" rel="shortcut icon" href="/pollerdox/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://piansom.github.io/pollerdox/docs/conf1"><link rel="stylesheet" href="/pollerdox/styles.21f0090d.css">
<link rel="preload" href="/pollerdox/styles.f4d13d91.js" as="script">
<link rel="preload" href="/pollerdox/runtime~main.48c44457.js" as="script">
<link rel="preload" href="/pollerdox/main.9d5c5b9a.js" as="script">
<link rel="preload" href="/pollerdox/1.3a47643f.js" as="script">
<link rel="preload" href="/pollerdox/2.b655f603.js" as="script">
<link rel="preload" href="/pollerdox/27.85701523.js" as="script">
<link rel="preload" href="/pollerdox/28.b1d11b78.js" as="script">
<link rel="preload" href="/pollerdox/935f2afb.0efd1dee.js" as="script">
<link rel="preload" href="/pollerdox/17896441.73387b06.js" as="script">
<link rel="preload" href="/pollerdox/bfd930ca.feb6f053.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/pollerdox/"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Unifi Poller</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pollerdox/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/pollerdox/"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/pollerdox/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Unifi Poller</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/pollerdox/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UnifiPoller</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up1">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up2">How it works</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up3">Easy starting point</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/up4">FAQs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Installation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins1">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins2">Docker - using docker-compose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins3">Docker - using command line</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins4">Docker - FAQs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins5">Bare metal - FreeBSD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins6">Bare metal - Linux/MacOOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins7">Bare metal - Windows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/ins8">NAS - Synology</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Configuration</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/pollerdox/docs/conf1">Final steps</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/tro1">Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Thanks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/thx1">Contributors</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/pollerdox/docs/">Style Guide</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Final steps</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuring-influxdb-grafana-datasource"></a>Configuring InfluxDB Grafana Datasource<a class="hash-link" href="#configuring-influxdb-grafana-datasource" title="Direct link to heading">#</a></h2><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Click Add your first data source on the home page you see after logon.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Select the influxdb option</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Set the following fields:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Name = UniFi InfluxDB (or whatever name you want) and set to default</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    URL = http://influxdb1:8086</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Database = unifi</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Username = unifipoller</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Password = unifipoller</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">No other fields need to be changed or set on this page.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Click Save &amp; Test</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    You should get green banner above the save and test that says &#x27;Data Source is Working&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    To return to the homepage click the icon with 4 squares on the left nav-bar and select home</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="import-grafana-dashboards"></a>Import Grafana Dashboards<a class="hash-link" href="#import-grafana-dashboards" title="Direct link to heading">#</a></h2><p>This project provides a few Grafana dashboards. They are available on Grafana.com.</p><p>Keep in mind these dashboards are just examples. You should make a single dedicated folder in Grafana to keep all of them in, and copy the graphs to new dashboards that you want to maintain. From time to time I will release new features (like multi-site support and multi-controller support) that brings new benefits to the existing dashboards. When that happens I update them. Keeping an example set allows you to update too, inspect the changes, and apply them to your own custom dashboards.
Recommendations</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Import the provided dashboards into their own folder, so they&#x27;re easy to find.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Do not make one folder per dashboard.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Make one folder for all of them.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    The folder name cannot be the same as the dashboard names, or Grafana will throw an error.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Changing the unique identifier allows you to re-import a dashboard, but this is not recommended.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Don&#x27;t edit them, instead:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Copy these dashboards or graphs to your own.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Edit the copies to get the data how you want it.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Keeping the original dashboards unedited allows you to continue referencing them, and copying graphs out of them.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">This also allows you to identify problems with them and open an Issue.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Import Dashboards</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Simply click the + on the left nav bar in Grafana and click Import.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Put in the ID for the dashboard (below) and click the blue Load button.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Select the InfluxDB or Prometheus data source you created previously.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Click the Green Import button on the last screen.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Repeat this for each dashboard you want.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">The IDs for each database platform are below, use them.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">You only need Prometheus or Influx, not both. Unless you really want both.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>App 	Prometheus ID 	Influx ID 	Get this if you...
Client DPI 	11310 	10419 	...enabled save_dpi
Sites 	11311 	10414 	...enabled save_sites
USW 	11312 	10417 	...have UniFi Switches
USG 	11313 	10416 	...have UniFi Gateways
UAP 	11314 	10415 	...have UniFi Access Points
Clients 	11315 	10418 	...love nano
Dashboard Update Notes</p><p>When the dashboards are updated, you have a couple options to update them in Grafana. You can either import them and replace the existing ones (use the same unique identifier), or you can import them as fresh new dashboards by changing the unique identifier. This allows you to keep updating the provided dashboards while maintaining your own. From time to time the dashboards get new features, new graphs, new variables, etc. Giving yourself an easy way to import the updated dashboards provided by this project is ideal. You&#x27;re able to inspect the changes and apply them to your dashboards with this method.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="influx-retention"></a>Influx retention<a class="hash-link" href="#influx-retention" title="Direct link to heading">#</a></h1></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/pollerdox/docs/ins8"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« NAS - Synology</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/pollerdox/docs/tro1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuring-influxdb-grafana-datasource" class="table-of-contents__link">Configuring InfluxDB Grafana Datasource</a></li><li><a href="#import-grafana-dashboards" class="table-of-contents__link">Import Grafana Dashboards</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pollerdox/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/pollerdox/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/pollerdox/styles.f4d13d91.js"></script>
<script src="/pollerdox/runtime~main.48c44457.js"></script>
<script src="/pollerdox/main.9d5c5b9a.js"></script>
<script src="/pollerdox/1.3a47643f.js"></script>
<script src="/pollerdox/2.b655f603.js"></script>
<script src="/pollerdox/27.85701523.js"></script>
<script src="/pollerdox/28.b1d11b78.js"></script>
<script src="/pollerdox/935f2afb.0efd1dee.js"></script>
<script src="/pollerdox/17896441.73387b06.js"></script>
<script src="/pollerdox/bfd930ca.feb6f053.js"></script>
</body>
</html>