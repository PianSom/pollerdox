(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{78:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return p}));var r=t(3),a=t(7),i=(t(0),t(99)),o={id:"ins5",title:"Bare metal - FreeBSD"},l={unversionedId:"ins5",id:"ins5",isDocsHomePage:!1,title:"Bare metal - FreeBSD",description:"This page assumes that you have decided to install Unifi Poller on to an existing operating system",source:"@site/docs/ins5.md",slug:"/ins5",permalink:"/pollerdox/docs/ins5",version:"current",sidebar:"someSidebar",previous:{title:"Docker - FAQs",permalink:"/pollerdox/docs/ins4"},next:{title:"Bare metal - Linux/MacOS",permalink:"/pollerdox/docs/ins6"}},s=[{value:"Before this",id:"before-this",children:[]},{value:"FreeBSD",id:"freebsd",children:[]},{value:"Grafana Plugins",id:"grafana-plugins",children:[]},{value:"Next steps",id:"next-steps",children:[]}],c={toc:s};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This page assumes that you have decided to install Unifi Poller on to an existing operating system"),Object(i.b)("h2",{id:"before-this"},"Before this"),Object(i.b)("p",null,"Make sure you have set up a user on your controller for Unifi Poller to use"),Object(i.b)("p",null,"It is assumed that you have working (and supported) versions of Grafana (though see the Plugins section below) and at least one of InfluxDB/Prometheus"),Object(i.b)("h2",{id:"freebsd"},"FreeBSD"),Object(i.b)("p",null,"Install compiled binary from ports run:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"pkg install net/unifi-poller\n")),Object(i.b)("p",null,"To build and install from ports run:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"cd /usr/ports/net-mgmt/unifi-poller\nmake install clean\n")),Object(i.b)("p",null,"Use these commands to maintain the service:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},'# View manual.\nman unifi-poller\n\n# Edit config file.\n# A defualt configuration file is placed in /usr/local/etc/unifi-poller/up.conf which is not overwritten on upgrades\n# A sample configuration is placed in /usr/local/etc/unifi-poller/up.conf.sample\nvi /usr/local/etc/unifi-poller/up.conf\n\n# enable the service. Or edit /etc/rc.conf\nsysrc unifi_poller_enable="YES"\n\n# Start, Restart, Stop service.\nservice unifi-poller start\nservice unifi-poller restart\nservice unifi-poller stop\n# Check service status, useful for scripts.\nservice unifi-poller status\n\n# Logs should wind up in this file, but your syslog may differ.\ngrep unifi-poller /var/log/messages\n')),Object(i.b)("div",{className:"admonition admonition-important alert alert--info"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"When configuring make sure that you do ",Object(i.b)("strong",{parentName:"p"},"not")," include ",Object(i.b)("inlineCode",{parentName:"p"},":8443")," on the url of the controller if you are using ",Object(i.b)("inlineCode",{parentName:"p"},"unifios")," (that is, a UDM-Pro, UDM, or Ckoudkey with modern firmware)"))),Object(i.b)("h2",{id:"grafana-plugins"},"Grafana Plugins"),Object(i.b)("p",null,"This application uses a few Grafana plugins. Install them:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"Clock, Discrete (InfluxDB only), PieChart, Singlestat (standard), Table (standard)\n")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"grafana-cli plugins install grafana-clock-panel\ngrafana-cli plugins install natel-discrete-panel\ngrafana-cli plugins install grafana-piechart-panel\n")),Object(i.b)("p",null,"If you're running Grafana in Docker, pass this environment variable/value to Grafana to install the plugins:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"GF_INSTALL_PLUGINS=grafana-clock-panel,natel-discrete-panel,grafana-piechart-panel\n")),Object(i.b)("h2",{id:"next-steps"},"Next steps"),Object(i.b)("p",null,"Go to the section Installation / Final steps"))}p.isMDXComponent=!0},99:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var r=t(0),a=t.n(r);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=a.a.createContext({}),p=function(e){var n=a.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=p(e.components);return a.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},f=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(t),f=r,d=u["".concat(o,".").concat(f)]||u[f]||b[f]||i;return t?a.a.createElement(d,l(l({ref:n},c),{},{components:t})):a.a.createElement(d,l({ref:n},c))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=f;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);